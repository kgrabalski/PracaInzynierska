(function(){$(document).ready(function(){function i(){function i(n){this.StarStyle=ko.observable(n)}function r(n,t,r,u,f,e,o,s,h,c,l){var a=this,v;for(a.RestaurantId=ko.observable(n),a.RestaurantName=ko.observable(t),a.TimeFrom=ko.observable(u),a.TimeTo=ko.observable(f),a.Street=ko.observable(e),a.Number=ko.observable(o),a.MinimumOrder=ko.observable(s),a.RestaurantRating=ko.observable(h),a.StarsCountUsersVoted=ko.observable(l),a.UsersVoted=ko.observable(l),a.Stars=ko.observableArray(),v=0;v<c;v++)a.Stars.push(new i("glyphicon glyphicon-star"));for(v=0;v<5-c;v++)a.Stars.push(new i("glyphicon glyphicon-star-empty"));a.MenuUrl=ko.observable("/Home/RestaurantMenu?restaurantId="+n);a.LogoUrl=ko.observable("/Home/GetImage?imageId="+r)}var t=this;t.AddressId=$("#searchForm").attr("data-addressId");t.Restaurants=ko.observableArray();t.DoSearch=function(){$.ajax({url:"/Home/GetRestaurants",type:"POST",data:{addressId:t.AddressId,cuisineId:n},success:function(n){var u,i;for(t.Restaurants.removeAll(),u=0;u<n.length;u++)i=n[u],t.Restaurants.push(new r(i.RestaurantId,i.RestaurantName,i.LogoId,i.TimeFrom,i.TimeTo,i.Street,i.Number,i.MinimumOrder,i.RestaurantRating,i.StarsCount,i.UsersVoted))}})}}var t=!1,n=[];$("#searchForm").submit(function(n){n.preventDefault();t||(t=!0,$("#searchForm").unbind("submit"),ko.applyBindings(new i),$("#searchForm").submit())});$("#allCuisines").change(function(){$(this).prop("checked")&&(n=[],$(".cuisine").prop("checked",!1),$("#searchForm").submit())});$(".cuisine").change(function(){var t=$(this).val();$(this).prop("checked")?($("#allCuisines").prop("checked",!1),n.indexOf(t)==-1&&n.push(t)):(n.indexOf(t)!=-1&&n.splice(n.indexOf(t),1),n.length==0&&$("#allCuisines").prop("checked",!0));$("#searchForm").submit()})})})();
//# sourceMappingURL=SearchRestaurants.min.js.map
