(function(){$(document).ready(function(){function f(n,t,i,r,u,f,e,o){this.Id=n;this.AddressId=t;this.CityId=i;this.City=r;this.StreetId=u;this.Street=f;this.StreetNumber=e;this.FlatNumber=o;this.DisplayText=this.City+", "+this.Street+" "+this.StreetNumber;this.FlatNumber!=""&&(this.DisplayText+="/"+this.FlatNumber)}function e(n){for(var r,t=0;t<i.Addresses.length;t++)if(r=i.Addresses[t],r.Id==n)return r}var n,t,r,i=this,u;r=$("#selectCity").selectize({valueField:"Id",labelField:"Name",sortField:"Name",create:!1,onChange:function(i){t.clearOptions();n.clearOptions();i!=""?t.enable():(t.disable(),n.disable())}})[0].selectize;r.load(function(n){$.ajax({url:"/Address/Cities",type:"POST",dataType:"json",success:function(t){n(t)}})});t=$("#selectStreet").selectize({valueField:"Id",labelField:"Name",sortField:"Name",searchField:["Name"],create:!1,load:function(n,t){if(n.length<3)return t();$.ajax({url:"/Address/Streets",data:{cityId:$("#selectCity").val(),query:n},type:"POST",dataType:"json",success:function(n){t(n)}})},onChange:function(t){n.disable();n.clearOptions();n.load(function(i){$.ajax({url:"/Address/StreetNumbers",data:{streetId:t},type:"POST",dataType:"json",success:function(t){n.enable();i(t)}})})}})[0].selectize;t.disable();n=$("#selectNumber").selectize({valueField:"Id",labelField:"Number",sortField:"Number",searchField:["Number"],create:!1})[0].selectize;n.disable();i.Addresses=[];u=$("#selectAddress").selectize({valueField:"Id",labelField:"DisplayText",create:!1,onChange:function(i){var u=e(i);r.addOption({Id:u.CityId,Name:u.City});r.setValue(u.CityId);t.enable();t.addOption({Id:u.StreetId,Name:u.Street});t.setValue(u.StreetId);n.enable();n.addOption({Id:u.AddressId,Number:u.StreetNumber});n.setValue(u.AddressId)}})[0].selectize;u.load(function(n){$.ajax({url:"/Home/GetDeliveryAddresses",type:"POST",success:function(t){for(var r,u=0;u<t.length;u++)r=t[u],i.Addresses.push(new f(r.Id,r.AddressId,r.CityId,r.City,r.StreetId,r.Street,r.StreetNumber,r.FlatNumber));n(i.Addresses)}})})})})();
//# sourceMappingURL=HomePage.min.js.map
